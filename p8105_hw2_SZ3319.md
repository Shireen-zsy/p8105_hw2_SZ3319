p8105_hw2_SZ3319
================
Shiyu Zhang
2024-09-30

## Problem 1

### 1.1 Import the dataset and clean names

``` r
transit_df = 
  read_csv("hw2data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv", na = c("NA", "", ".")) |> 
  janitor::clean_names()
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
tail(transit_df, 10)
```

    ## # A tibble: 10 × 32
    ##    division line   station_name station_latitude station_longitude route1 route2
    ##    <chr>    <chr>  <chr>                   <dbl>             <dbl> <chr>  <chr> 
    ##  1 IRT      White… Simpson St               40.8             -73.9 2      5     
    ##  2 IRT      White… Simpson St               40.8             -73.9 2      5     
    ##  3 IRT      White… Simpson St               40.8             -73.9 2      5     
    ##  4 IRT      White… Simpson St               40.8             -73.9 2      5     
    ##  5 IRT      White… Simpson St               40.8             -73.9 2      5     
    ##  6 IRT      White… Wakefield-2…             40.9             -73.9 2      5     
    ##  7 IRT      White… Wakefield-2…             40.9             -73.9 2      5     
    ##  8 IRT      White… Wakefield-2…             40.9             -73.9 2      5     
    ##  9 IRT      Flush… 34 St Hudso…             40.8             -74.0 7      <NA>  
    ## 10 IRT      Flush… 34 St Hudso…             40.8             -74.0 7      <NA>  
    ## # ℹ 25 more variables: route3 <chr>, route4 <chr>, route5 <chr>, route6 <chr>,
    ## #   route7 <chr>, route8 <dbl>, route9 <dbl>, route10 <dbl>, route11 <dbl>,
    ## #   entrance_type <chr>, entry <chr>, exit_only <chr>, vending <chr>,
    ## #   staffing <chr>, staff_hours <chr>, ada <lgl>, ada_notes <chr>,
    ## #   free_crossover <lgl>, north_south_street <chr>, east_west_street <chr>,
    ## #   corner <chr>, entrance_latitude <dbl>, entrance_longitude <dbl>,
    ## #   station_location <chr>, entrance_location <chr>

### 1.2 Select variables

Select columns and clean the data; convert `entry` to logical.

``` r
transit_select <- transit_df |> 
  select(
    line, 
    station_name, 
    station_latitude, 
    station_longitude, 
    starts_with("route"), 
    entry, 
    vending, 
    entrance_type, 
    ada) |> 
  mutate(
    entry = ifelse(entry == "YES", TRUE, FALSE)
    )
```

Description:

### 1.3 Analysis the data

#### 1.3.1 Calculate the distinct station.

``` r
distinct_stations <- transit_select |> 
  distinct(line, station_name) |> 
  nrow()

distinct_stations
```

    ## [1] 465

There are **465** distinct stations are there.

#### 1.3.2 Calculate the number of ADA compliant.

``` r
ADA_compliant_stations <- 
  transit_select |> 
  filter(ada == "TRUE") |> 
  distinct(line, station_name) |> 
  nrow()

ADA_compliant_stations
```

    ## [1] 84

**84** stations are ADA compliant.

#### 1.3.3 Propotion of station

Calculate the total number of stations without vending.

``` r
no_vending <- transit_select |> 
  filter(vending == "NO") |>
  distinct(line, station_name) |> 
  nrow()
```

Calculate how many of them allow entry.

``` r
allow_entry_no_vending <- transit_select |> 
  filter(vending == "NO", entry == TRUE) |>
  distinct(line, station_name) |> 
  nrow()
```

Calculate the propotion.

``` r
propotion_no_vending <-
  allow_entry_no_vending / no_vending

propotion_no_vending
```

    ## [1] 0.4343434

### 1.4 Reform the data.

## Problem 2

### 2.1

### 1.1 Import the dataset and clean names

``` r
wheel_df = 
  read_excel("hw2data/202409 Trash Wheel Collection Data.xlsx", sheet = "Mr. Trash Wheel", skip = 1) |> 
  janitor::clean_names()
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

``` r
head(wheel_df, 10)
```

    ## # A tibble: 10 × 16
    ##    dumpster month year  date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <chr> <dttm>                    <dbl>              <dbl>
    ##  1        1 May   2014  2014-05-16 00:00:00        4.31                 18
    ##  2        2 May   2014  2014-05-16 00:00:00        2.74                 13
    ##  3        3 May   2014  2014-05-16 00:00:00        3.45                 15
    ##  4        4 May   2014  2014-05-17 00:00:00        3.1                  15
    ##  5        5 May   2014  2014-05-17 00:00:00        4.06                 18
    ##  6        6 May   2014  2014-05-20 00:00:00        2.71                 13
    ##  7        7 May   2014  2014-05-21 00:00:00        1.91                  8
    ##  8        8 May   2014  2014-05-28 00:00:00        3.7                  16
    ##  9        9 June  2014  2014-06-05 00:00:00        2.52                 14
    ## 10       10 June  2014  2014-06-11 00:00:00        3.76                 18
    ## # ℹ 10 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, sports_balls <dbl>, homes_powered <dbl>, x15 <lgl>,
    ## #   x16 <lgl>

``` r
wheel_clean <- wheel_df |> 
  select(dumpster:homes_powered) |> 
  drop_na(dumpster) |> #omit rows that do not include dumpster-specific data
  mutate(
    sports_balls = as.integer(round(sports_balls))
  )#round the number of sports balls to the nearest integer and converts the result to an integer variable (using as.integer)
```
